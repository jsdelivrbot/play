<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RapidEars2.03: OEPocketsphinxController+RapidEars Category Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RapidEars2.03
   </div>
   <div id="projectbrief">A live speech recognition plug-in for OpenEars</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('category_o_e_pocketsphinx_controller_07_rapid_ears_08.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="category_o_e_pocketsphinx_controller_07_rapid_ears_08-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OEPocketsphinxController+RapidEars Category Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A plugin which adds the ability to do live speech recognition to OEPocketsphinxController. </p>
<h2>Usage examples</h2>
<blockquote class="doxtable">
<p>Preparing to use the class:</p>
<p></p>
</blockquote>
<p>Like OEPocketsphinxController which it extends, we need a language model created with OELanguageModelGenerator before using OEPocketsphinxController+RapidEars. We have already completed that step above.</p>
 <blockquote class="doxtable">
<p>What to add to your implementation:</p>
<p></p>
</blockquote>
Add the following to your implementation (the .m file):

Under the @implementation keyword at the top, after the line #import &lt;OpenEars/OEPocketsphinxController.h&gt;:
<pre>
#import &lt;RapidEarsDemo/OEPocketsphinxController+RapidEars.h&gt;
</pre>

Next, comment out all calls in your app to the method 
<pre>startListeningWithLanguageModelAtPath:dictionaryAtPath:languageModelIsJSGF:</pre> and in the same part of your app where you were formerly using this method, place the following:

<pre>

[[OEPocketsphinxController sharedInstance] startRealtimeListeningWithLanguageModelAtPath:lmPath dictionaryAtPath:dicPath acousticModelAtPath:[OEAcousticModel pathToModel:@"AcousticModelEnglish"]]; // Starts the rapid recognition loop. Change "AcousticModelEnglish" to "AcousticModelSpanish" in order to perform Spanish language recognition.

</pre>

If you find that sometimes you are getting live recognition and other times not, make sure that you have definitely replaced all instances of startListeningWithLanguageModelAtPath:  with startRealtimeListeningWithLanguageModelAtPath:.
 <dl class="section warning"><dt>Warning</dt><dd>Please read OpenEars' OEPocketsphinxController for information about instantiating this object. </dd></dl>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="afcd64da668d1eb78c3aab7344d33eaf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) startRealtimeListeningWithLanguageModelAtPath: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>languageModelPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">dictionaryAtPath:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>dictionaryPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">acousticModelAtPath:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>acousticModelPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the listening loop. You will call this instead of the old OEPocketsphinxController method </p>

</div>
</div>
<a class="anchor" id="ae1b55f51cf942f2e96fded48c5fe8cfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setRapidEarsToVerbose: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>verbose</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turn logging on or off. </p>

</div>
</div>
<a class="anchor" id="a94482a61f9630a04a9a9f43fee9db4e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setFinalizeHypothesis: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>finalizeHypothesis</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You can decide not to have the final hypothesis delivered if you are only interested in live hypotheses. This will save some CPU work. </p>

</div>
</div>
<a class="anchor" id="a3a711985aefa214702081feab4acfaed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setReturnDuplicatePartials: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>duplicatePartials</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setting this to true will cause you to receive partial hypotheses even when they match the last one you received. This defaults to FALSE, so if you only want to receive new hypotheses you don't need to use this. </p>

</div>
</div>
<a class="anchor" id="a1dad48994d4f5b7d35eaf5f93e4f34db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setRapidEarsReturnNBest: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>nBest</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EXPERIMENTAL. This will give you N-Best results, most likely at the expense of performance. This can't be used with setReturnSegments: or setReturnSegmentTimes: . This is a wholly experimental feature and can't be used with overly-large language models or on very slow devices. It is the sole responsibility of the developer to test whether performance is acceptable with this feature and to reduce language model size and latencyTuning in order to get a good UX â€“ there is absolutely no guarantee given that this feature will not result in searches which are too slow to return if it has too much to do. If this experimental feature results in an excess of support requests due to too many not reading this warning and consequently reporting realtime n-best slowness of arbitrary models as a bug, it could end up being removed in a future version. </p>

</div>
</div>
<a class="anchor" id="ad51d3a2f9f8fe20b1936b124633a0b75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setRapidEarsNBestNumber: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>rapidEarsNBestNumber</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the maximum number of nbest results you want to receive. You may receive fewer than this number but will not receive more. This defaults to 3 for RapidEars; larger numbers are likely to use more CPU and smaller numbers less. Settings below 2 are invalid and will be set to 2. It is not recommended to ever set this above 3 for realtime processing. </p>

</div>
</div>
<a class="anchor" id="a40c64e7b7ec519c885c0c8f59b3f9b6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setReturnSegments: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>returnSegments</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setting this to true will cause you to receive your hypotheses as separate words rather than a single NSString. This is a requirement for using OEEventsObserver delegate methods that contain timing or per-word scoring. This can't be used with N-best. </p>

</div>
</div>
<a class="anchor" id="a3b27b1b11bd7b393c1c4cd0033010b54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setReturnSegmentTimes: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>returnSegmentTimes</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setting this to true will cause you to receive segment hypotheses with timing attached. This is a requirement for using OEEventsObserver delegate methods that contain word timing information. It only works if you have setReturnSegments set to TRUE. This can't be used with N-best. </p>

</div>
</div>
<a class="anchor" id="a6a4d33876526a72a7632a0a7b2297d95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setLatencyTuning: </td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>latencyTuning</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This can take a value between 1 and 4. 4 means the lowest-latency for partial hypotheses and 1 means the highest. The lower the latency, the higher the CPU overhead, and vice versa. This defaults to 4 (the lowest latency and highest CPU overhead) so you will reduce it if you have a need for less CPU overhead until you find the ideal balance between CPU overhead and speed of hypothesis. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="category_o_e_pocketsphinx_controller_07_rapid_ears_08.html">OEPocketsphinxController+RapidEars</a></li>
    <li class="footer">Generated for RapidEars2.03 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
